# Explore os serviços de banco de dados relacional no Azure


## Descrever os serviços e recursos do SQL do Azure

### SQL Server em VMs do Azure
- IaaS
- Totalmente compatível com instalações físicas locais e virtualizadas. Aplicativos e bancos de dados podem ser migrados facilmente com o modelo "lift-and-shift" sem alteração.
- Instâncias do SQL Server são instaladas em uma máquina virtual. Cada instância pode dar suporte a vários bancos de dados.
- Disponibilidade - 99,99%
- Você deve gerenciar todos os aspectos do servidor, incluindo o sistema operacional e as atualizações, a configuração, os backups e outras tarefas de manutenção do SQL Server.
- Use essa opção quando precisar migrar ou estender uma solução de SQL Server local e manter o controle total sobre todos os aspectos da configuração do servidor e do banco de dados.

O SQL Server em Máquinas Virtuais permite usar versões completas do SQL Server na nuvem sem precisar gerenciar o hardware local. É um exemplo de abordagem de IaaS.

Essa abordagem é adequada para migrações e aplicativos que exigem acesso a recursos do sistema operacional que podem não ser compatíveis no nível de PaaS. As máquinas virtuais do SQL são prontas para o lift-and-shift de aplicativos existentes que exigem migração rápida para a nuvem com alterações mínimas. Você também pode usar o SQL Server em VMs do Azure para estender aplicativos locais existentes para a nuvem em implantações híbridas.

### Instância Gerenciada do Azure SQL
- PaaS
- Quase 100% de compatibilidade com SQL Server. A maioria dos bancos de dados locais pode ser migrada com alterações mínimas no código, usando o serviço de Migração de Banco de Dados do Azure
- Cada instância gerenciada pode dar suporte a vários bancos de dados. Além disso, os pools de instâncias podem ser usados para compartilhar recursos com eficiência em instâncias menores.
- 99,99%
- Atualizações, backups e recuperação totalmente automatizados.
- Use essa opção para a maioria dos cenários de migração na nuvem, especialmente quando você precisar de alterações mínimas nos aplicativos existentes.

A instância gerenciada de SQL do Azure executa efetivamente uma instância totalmente controlável do SQL Server na nuvem. Você pode instalar vários bancos de dados na mesma instância. Você tem controle total sobre essa instância, assim como em um servidor local. A Instância Gerenciada de SQL automatiza backups, aplicação de patch de software, monitoramento de banco de dados e outras tarefas gerais, mas você tem controle total sobre a segurança e a alocação de recursos para os seus bancos de dados.

### Banco de Dados SQL do Azure
- PaaS
- Dá suporte à maioria dos principais recursos de nível de banco de dados do SQL Server. Alguns recursos que dependem de um aplicativo local podem não estar disponíveis.
- Você pode provisionar um banco de dados individual em um servidor dedicado e gerenciado (lógico) ou você pode usar um pool elástico para compartilhar recursos entre vários bancos de dados para aproveitar a escalabilidade sob demanda.
- 99,995%
- Atualizações, backups e recuperação totalmente automatizados.
- Use essa opção para novas soluções de nuvem ou para migrar aplicativos que têm dependências mínimas no nível da instância.

O Banco de Dados SQL do Azure está disponível como um Banco de Dados Individual ou um Pool Elástico.
O Banco de Dados SQL do Azure oferece a melhor opção de baixo custo com administração mínima.

O Banco de Dados SQL do Azure é muito usado para:

- Aplicativos de nuvem modernos que precisam usar os recursos estáveis de SQL Server mais recentes.
- Aplicativos que exigem alta disponibilidade.
- Sistemas com uma carga variável que precisam do servidor de banco de dados para escalar e reduzir verticalmente de modo rápido.

#### Banco de Dados Individual
Essa opção permite configurar e executar rapidamente um banco de dados individual do SQL Server. Você cria e executa um servidor de banco de dados na nuvem e acessa o banco de dados por meio desse servidor. *A Microsoft gerencia o servidor*, de modo que tudo o que *você precisa fazer é configurar o banco de dados, criar suas tabelas e preenchê-las com os seus dados.* Você pode escalar o banco de dados se precisar *de mais espaço de armazenamento, memória ou capacidade de processamento*. Por padrão, os recursos são pré-alocados e você é cobrado por hora pelos recursos solicitados. Também é possível especificar uma configuração sem servidor. Nessa configuração, a Microsoft cria um servidor próprio, que pode ser compartilhado por bancos de dados pertencentes a outros assinantes do Azure. A Microsoft garante a privacidade do seu banco de dados. O banco de dados é dimensionado automaticamente e os recursos são alocados ou desalocados conforme necessário.

#### Pool Elástico
 Você cria o pool e somente seus bancos de dados podem usá-lo. Esse modelo será útil se você tiver bancos de dados com requisitos de recursos que variam ao longo do tempo. Além disso, ajuda a economizar. Por exemplo, seu banco de dados de folha de pagamento pode exigir muita capacidade de CPU no final de cada mês quando você processa a folha de pagamento. Mas em outras ocasiões, o banco de dados pode se tornar muito menos ativo.

 ## Descrever serviços do Azure para bancos de dados de código aberto
 ### MySQL 
 - É o principal banco de dados relacional de código aberto para os aplicativos da pilha LAMP (Linux, Apache, MySQL e PHP).
 - A Community Edition está disponível gratuitamente e tem sido historicamente popular como um sistema de gerenciamento de banco de dados para aplicativos Web, em execução no Linux. Também há versões disponíveis para Windows. 
 - A Edição Standard tem um desempenho mais alto e usa uma tecnologia diferente para armazenar dados. 
 - A Edição Enterprise fornece um conjunto abrangente de ferramentas e recursos, incluindo segurança, disponibilidade e escalabilidade aprimoradas. 
 - Backups automáticos e restauração pontual dos últimos 35 dias.

O Banco de Dados do Azure para MySQL é uma implementação do MySQL na nuvem do Azure, baseada na Community Edition do MySQL.
 

 ### MariaDB 
  - Um recurso notável do MariaDB é o suporte interno para dados temporais. Uma tabela pode conter várias versões de dados, permitindo que um aplicativo consulte os dados como eles apareciam em algum momento no passado.
  - O mecanismo de banco de dados foi reescrito e otimizado para aprimorar o desempenho. 
  - O servidor fornece segurança de conexão para impor regras de firewall e, opcionalmente, exigir conexões SSL.
  - Muitos parâmetros de servidor permitem definir as configurações do servidor, como modos de bloqueio, número máximo de conexões e tempos limite.



### PostgreSQL 
- objetos híbrido e relacional
- É possível armazenar dados em tabelas relacionais, mas um banco de dados PostgreSQL também permite que você armazene tipos de dados personalizados, com propriedades não relacionais próprias.
- Você pode adicionar módulos de código ao banco de dados, que pode ser executado por consultas. 
- capacidade de armazenar e manipular dados geométricos, como linhas, círculos e polígonos.

Alguns recursos dos bancos de dados PostgreSQL locais não estão disponíveis no Banco de Dados do Azure para PostgreSQL. Esses recursos se encarregam principalmente das extensões que os usuários podem adicionar a um banco de dados para executar tarefas especializadas, como escrever procedimentos armazenados em várias linguagens de programação (além de pgsql, que está disponível) e interagir diretamente com o sistema operacional. Há compatibilidade com um conjunto básico de extensões usadas com mais frequência e a lista de extensões disponíveis está sob análise contínua.

Banco de Dados do Azure para PostgreSQL Servidor Flexível
A opção de implantação de servidor flexível para PostgreSQL é um serviço de banco de dados totalmente gerenciado. Ele fornece um alto nível de controle e personalizações de configuração do servidor, além de oferecer melhores controles de otimização de custo.

Benefícios do Banco de Dados do Azure para PostgreSQL
O Banco de Dados do Azure para PostgreSQL é um serviço altamente disponível. Ele contém mecanismos internos de detecção de falha e failover.

Os usuários do PostgreSQL já conhecem a ferramenta pgAdmin, que você pode usar para gerenciar e monitorar um banco de dados PostgreSQL. Você pode continuar a usar essa ferramenta para se conectar ao Banco de Dados do Azure para PostgreSQL. No entanto, alguns recursos voltados para o servidor, como executar backup e restauração do servidor, não estão disponíveis porque o servidor é gerenciado e mantido pela Microsoft.

O Banco de Dados do Azure para PostgreSQL registra informações sobre as consultas executadas em bancos de dados no servidor e as salva em um banco de dados chamado azure_sys. Consulte a exibição query_store.qs_view para ver essas informações e usá-las para monitorar as consultas que os usuários estão executando. Essas informações podem se mostrar valiosas se você precisa ajustar as consultas executadas por seus aplicativos.